Taken from Brent Edmund's course at GitHub: BrentEdmunds/ThreadsandMPI (private)